(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{63:function(e,n,t){e.exports=t(99)},68:function(e,n,t){},99:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(30),c=t.n(o),u=(t(68),t(25)),i=t(9),l=t(2),s=t(3),b=t(61);function m(){var e=Object(l.a)(["\n    padding-left: 1rem;\n    padding-right: 1rem;\n    width: 1024px;\n    margin: 0 auto;\n\n    // \ube0c\ub77c\uc6b0\uc800 \ud06c\uae30\uc5d0 \ub530\ub978 \uac00\ub85c \ud06c\uae30 \ubcc0\uacbd\n    // 768px ~ 1024px, \uc544\uc774\ud328\ub4dc, \ub7a9\ud0d1\n    @media (max-width: 1024px) {\n        width: 768px;\n    }\n    // Mobile Device\n    // 768px \uc774\ud558\n    @media (max-width: 768px) {\n        width: 100%;\n    }\n"]);return m=function(){return e},e}var f=s.b.div(m()),d=function(e){var n=e.children,t=Object(b.a)(e,["children"]);return a.a.createElement(f,t,n)},p={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},g=t(12);function v(){var e=Object(l.a)(["\n    ","\n"]);return v=function(){return e},e}function O(){var e=Object(l.a)(["\n    ","\n"]);return O=function(){return e},e}function E(){var e=Object(l.a)(["\n            background: ",";\n            &:hover {\n                background: ",";\n            }\n        "]);return E=function(){return e},e}function h(){var e=Object(l.a)(["\n            padding-top: 0.75rem;\n            padding-bottom: 0.75rem;\n            width: 100%;\n            font-size: 1.125rem;\n        "]);return h=function(){return e},e}function j(){var e=Object(l.a)(["\n    border: none;\n    border-radius: 4px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 0.25rem 1rem;\n    color: white;\n    outline: none;\n    cursor: pointer;\n\n    background: ",";\n    &:hover {\n        background: ",";\n    }\n\n    // \ubc84\ud2bc \ube44\ud65c\uc131\ud654 \uc2dc css\n    &:disabled {\n        backgroun: ",";\n        color: ",";\n        cursor: not-allowed;\n    }\n\n    ","\n\n    ","\n"]);return j=function(){return e},e}var y=Object(s.a)(j(),p.gray[8],p.gray[6],p.gray[3],p.gray[5],(function(e){return e.fullWidth&&Object(s.a)(h())}),(function(e){return e.cyan&&Object(s.a)(E(),p.cyan[5],p.cyan[4])})),w=s.b.button(O(),y),x=Object(s.b)(g.b)(v(),y),S=function(e){return e.to?a.a.createElement(x,Object.assign({},e,{cyan:e.cyan?1:0})):a.a.createElement(w,e)};function k(){var e=Object(l.a)(["\n    font-weight: 800;\n    margin-right: 1rem;\n"]);return k=function(){return e},e}function C(){var e=Object(l.a)(["\n    height: 4rem;\n"]);return C=function(){return e},e}function I(){var e=Object(l.a)(["\n    height: 4rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between; // \uc790\uc2dd \uc5d8\ub9ac\uba58\ud2b8 \uc0ac\uc774 \uc5ec\ubc31 \ucd5c\ub300\ud654\n    .logo {\n        font-size: 1.125rem;\n        font-weight: 800;\n        letter-spacing: 2px;\n    }\n    .right {\n        display: flex;\n        align-items: right;\n    }\n"]);return I=function(){return e},e}function T(){var e=Object(l.a)(["\n    position: fixed;\n    width: 100%;\n    background: white;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return T=function(){return e},e}var _,R=s.b.div(T()),P=Object(s.b)(d)(I()),L=s.b.div(C()),A=s.b.div(k()),N=function(e){var n=e.user,t=e.onLogout;return a.a.createElement(a.a.Fragment,null,a.a.createElement(R,null,a.a.createElement(P,null,a.a.createElement(g.b,{to:"/",className:"logo"},"REATERS"),n?a.a.createElement("div",{className:"right"},a.a.createElement(A,null,n.username),a.a.createElement(S,{onClick:t},"\ub85c\uadf8\uc544\uc6c3")):a.a.createElement("div",{className:"right"},a.a.createElement(S,{to:"/login"},"\ub85c\uadf8\uc778")))),";",a.a.createElement(L,null))},D=t(6),F=t(10),U=t(11),G=t.n(U),M=t(101),z=t(100),H=t(13),W=Object(M.a)("loading/START_LOADING",(function(e){return e})),B=Object(M.a)("loading/FINISH_LOADING",(function(e){return e})),q=Object(z.a)((_={},Object(D.a)(_,"loading/START_LOADING",(function(e,n){return Object(F.a)({},e,Object(D.a)({},n.payload,!0))})),Object(D.a)(_,"loading/FINISH_LOADING",(function(e,n){return Object(F.a)({},e,Object(D.a)({},n.payload,!1))})),_),{});function J(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]}function Z(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return G.a.mark((function a(o){var c;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(H.c)(W(e));case 2:return a.prev=2,a.next=5,Object(H.b)(n,o.payload);case 5:return c=a.sent,a.next=8,Object(H.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(H.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(H.c)(B(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var K,Q=t(54),$=t.n(Q).a.create(),V=function(){return $.post("api/auth/logout")},X=G.a.mark(ie),Y=G.a.mark(le),ee="user/CHECK",ne="user/CHECK_FAILURE",te="user/LOGOUT",re=Object(M.a)("user/TEMP_SET_USER",(function(e){return e})),ae=Object(M.a)(ee),oe=Object(M.a)(te),ce=Z(ee,(function(){return $.get("/api/auth/check")}));function ue(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function ie(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(H.b)(V);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),X,null,[[0,6]])}function le(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(ee,ce);case 2:return e.next=4,Object(H.d)(ne,ue);case 4:return e.next=6,Object(H.d)(te,ie);case 6:case"end":return e.stop()}}),Y)}var se,be=Object(z.a)((K={},Object(D.a)(K,"user/TEMP_SET_USER",(function(e,n){var t=n.payload;return Object(F.a)({},e,{user:t})})),Object(D.a)(K,"user/CHECK_SUCCESS",(function(e,n){var t=n.payload;return Object(F.a)({},e,{user:t,checkError:null})})),Object(D.a)(K,ne,(function(e,n){var t=n.payload;return Object(F.a)({},e,{user:null,checkError:t})})),Object(D.a)(K,te,(function(e){return Object(F.a)({},e,{user:null})})),K),{user:null,checkError:null}),me=function(){var e=Object(i.c)((function(e){return{user:e.user.user}})).user,n=Object(i.b)();return a.a.createElement(N,{user:e,onLogout:function(){n(oe())}})},fe=t(22),de=t.n(fe),pe=t(17),ge=G.a.mark(xe),ve=J("posts/LIST_POSTS"),Oe=Object(pe.a)(ve,3),Ee=Oe[0],he=Oe[1],je=Oe[2],ye=Object(M.a)(Ee,(function(e){return{tag:e.tag,username:e.username,page:e.page}})),we=Z(Ee,(function(e){var n=e.page,t=e.username,r=e.tag,a=de.a.stringify({page:n,username:t,tag:r});return $.get("/api/posts?".concat(a))}));function xe(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(Ee,we);case 2:case"end":return e.stop()}}),ge)}var Se=Object(z.a)((se={},Object(D.a)(se,he,(function(e,n){var t=n.payload,r=n.meta;return Object(F.a)({},e,{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(D.a)(se,je,(function(e,n){var t=n.payload;return Object(F.a)({},e,{error:t})})),se),{posts:null,error:null,lastPage:1});function ke(){var e=Object(l.a)(["\n            margin-top: 1rem;\n        "]);return ke=function(){return e},e}function Ce(){var e=Object(l.a)(["\n    // hasMarginTop \uac12\uc774 \uc5ec\ubd80\uc5d0 \ub530\ub77c css \ub2e4\ub974\uac8c \uc801\uc6a9\n    ","\n    color: ",";\n    // span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30\n    span + span:before {\n        color: ",";\n        padding-left: 0.25rem;\n        padding-right: 0.25rem;\n        content: '\\B7';\n    }\n"],["\n    // hasMarginTop \uac12\uc774 \uc5ec\ubd80\uc5d0 \ub530\ub77c css \ub2e4\ub974\uac8c \uc801\uc6a9\n    ","\n    color: ",";\n    // span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec\uc8fc\uae30\n    span + span:before {\n        color: ",";\n        padding-left: 0.25rem;\n        padding-right: 0.25rem;\n        content: '\\\\B7';\n    }\n"]);return Ce=function(){return e},e}var Ie=s.b.div(Ce(),(function(e){return e.hasMarginTop&&Object(s.a)(ke())}),p.gray[6],p.gray[5]),Te=function(e){var n=e.username,t=e.publishDate,r=e.hasMarginTop;return a.a.createElement(Ie,{hasMarginTop:r},a.a.createElement("span",null,a.a.createElement("b",null,a.a.createElement(g.b,{to:"/?username=".concat(n)},n))),a.a.createElement("span",null,new Date(t).toLocaleDateString()))};function _e(){var e=Object(l.a)(["\n    margin-top: 0.5rem;\n    .tag {\n        display: inline-block;\n        color: ",";\n        text-decoration: none;\n        margin-right: 0.5rem;\n        &:hover {\n            color: ",";\n        }\n"]);return _e=function(){return e},e}var Re=s.b.div(_e(),p.cyan[7],p.cyan[6]),Pe=function(e){var n=e.tags;return a.a.createElement(Re,null,n.map((function(e){return a.a.createElement(g.b,{key:e,to:"/?tag=".concat(e),className:"tag"},"#",e)})))};function Le(){var e=Object(l.a)(["\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    // \ub9e8 \uc704 \ud3ec\uc2a4\ud2b8\ub294 padding-top \uc5c6\uc74c\n    &:first-child {\n        padding-topd: 0;\n    }\n    & + & {\n        border-top: 1px solid ",";\n    }\n\n    h2 {\n        font-size: 2rem;\n        margin-bottom: 0;\n        margin-top: 0;\n        &:hover {\n            color: ",";\n        }\n    }\n    p {\n        margin-top: 2rem;\n    }\n"]);return Le=function(){return e},e}function Ae(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 3rem;\n"]);return Ae=function(){return e},e}function Ne(){var e=Object(l.a)(["\n    margin-top: 3rem;\n"]);return Ne=function(){return e},e}var De=Object(s.b)(d)(Ne()),Fe=s.b.div(Ae()),Ue=s.b.div(Le(),p.gray[2],p.gray[6]),Ge=function(e){var n=e.post,t=n.title,r=n.user,o=n.tags,c=n.publishDate,u=n.body,i=n._id;return a.a.createElement(Ue,null,a.a.createElement("h2",null,a.a.createElement(g.b,{to:"/@".concat(r.username,"/").concat(i)},t)),a.a.createElement(Te,{username:r.username,publishDate:c}),a.a.createElement(Pe,{tags:o}),a.a.createElement("p",null,u))},Me=function(e){var n=e.posts,t=e.loading,r=e.error,o=e.showWriteButton;return r?(console.log(r),a.a.createElement(De,null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")):a.a.createElement(De,null,o&&a.a.createElement(Fe,null,a.a.createElement(S,{cyan:!0,to:"/write"},"\uc0c8 \uae00 \uc791\uc131")),!t&&n&&a.a.createElement("div",null,n.map((function(e){return a.a.createElement(Ge,{post:e,key:e._id})}))))},ze=Object(u.e)((function(e){var n=e.location,t=(e.match,Object(i.b)()),o=Object(i.c)((function(e){var n=e.posts,t=e.loading,r=e.user;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"],user:r.user}})),c=o.posts,u=o.error,l=o.loading,s=o.user;return Object(r.useEffect)((function(){var e=de.a.parse(n.search,{ignoreQueryPrefix:!0}),r=e.page,a=e.username,o=e.tag;t(ye({tag:o,username:a,page:r}))}),[t,n.search]),a.a.createElement(Me,{loading:l,error:u,posts:c,showWriteButton:s})}));function He(){var e=Object(l.a)([""]);return He=function(){return e},e}function We(){var e=Object(l.a)(["\n    width: 320px;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 3rem;\n"]);return We=function(){return e},e}var Be,qe=s.b.div(We()),Je=s.b.div(He()),Ze=function(e){var n=e.username,t=e.tag,r=e.page,a=de.a.stringify({tag:t,page:r});return n?"/?username=".concat(n,"&").concat(a):"/?".concat(a)},Ke=function(e){var n=e.page,t=e.lastPage,r=e.username,o=e.tag;return a.a.createElement(qe,null,a.a.createElement(S,{disabled:1===n,to:1===n?void 0:Ze({username:r,tag:o,page:n-1})},"\uc774\uc804"),a.a.createElement(Je,null,n),a.a.createElement(S,{disabled:n===t,to:n===t?void 0:Ze({username:r,tag:o,page:n+1})},"\ub2e4\uc74c"))},Qe=Object(u.e)((function(e){var n=e.location,t=Object(i.c)((function(e){var n=e.posts,t=e.loading;return{lastPage:n.lastPage,posts:n.posts,loading:t["posts/LIST_POSTS"]}})),r=t.lastPage,o=t.posts,c=t.loading;if(!o||c)return null;var u=de.a.parse(n.search,{ignoreQueryPrefix:!0}),l=u.tag,s=u.username,b=u.page,m=void 0===b?1:b;return a.a.createElement(Ke,{tag:l,username:s,page:parseInt(m,10),lastPage:r})})),$e=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(me,null),a.a.createElement(ze,null),a.a.createElement(Qe,null))},Ve=G.a.mark(cn),Xe=J("post/READ_POST"),Ye=Object(pe.a)(Xe,3),en=Ye[0],nn=Ye[1],tn=Ye[2],rn=Object(M.a)(en,(function(e){return e})),an=Object(M.a)("post/UNLOAD_POST"),on=Z(en,(function(e){return $.get("/api/posts/".concat(e))}));function cn(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(en,on);case 2:case"end":return e.stop()}}),Ve)}var un={post:null,error:null},ln=Object(z.a)((Be={},Object(D.a)(Be,nn,(function(e,n){var t=n.payload;return Object(F.a)({},e,{post:t})})),Object(D.a)(Be,tn,(function(e,n){var t=n.payload;return Object(F.a)({},e,{error:t})})),Object(D.a)(Be,"post/UNLOAD_POST",(function(){return un})),Be),un),sn=t(23);function bn(){var e=Object(l.a)(["\n    font-size: 1.3125rem;\n    color: ",";\n"]);return bn=function(){return e},e}function mn(){var e=Object(l.a)(["\n    border-bottom: 1px solid ",";\n    padding-bottom: 3rem;\n    margin-bottom: 3rem;\n    h1 {\n        font-size: 3rem;\n        line-height: 1.5;\n        margin: 0;\n    }\n"]);return mn=function(){return e},e}function fn(){var e=Object(l.a)(["\n    margin-top: 4rem;\n"]);return fn=function(){return e},e}var dn=Object(s.b)(d)(fn()),pn=s.b.div(mn(),p.gray[2]),gn=s.b.div(bn(),p.gray[8]),vn=function(e){var n=e.post,t=e.error,r=e.loading,o=e.actionButtons,c=e.ownPost;if(t)return t.response&&404===t.response.status?a.a.createElement(dn,null,"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."):a.a.createElement(dn,null,"\uc624\ub958 \ubc1c\uc0dd");if(r||!n)return null;var u=n.title,i=n.body,l=n.user,s=n.publishDate,b=n.tags;return a.a.createElement(dn,null,a.a.createElement(sn.a,null,a.a.createElement("title",null,u)),a.a.createElement(pn,null,a.a.createElement("h1",null,u),a.a.createElement(Te,{hasMarginTop:!0,username:l.username,publishDate:s}),a.a.createElement(Pe,{tags:b})),c&&o,a.a.createElement(gn,{dangerouslySetInnerHTML:{__html:i}}))};function On(){var e=Object(l.a)(["\n    height: 2rem;\n    & + & {\n        margin-left: 0.75rem;\n    }\n"]);return On=function(){return e},e}function En(){var e=Object(l.a)(["\n    width: 320px;\n    background: white;\n    border-radius: 4px;\n    padding: 1.5rem;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n    h2 {\n        margin-top: 0;\n        margin-bottom: 1rem;\n    }\n    p {\n        margin-bottom: 3rem;\n    }\n    .buttons {\n        display: flex;\n        justify-content: flex-end;\n    }\n"]);return En=function(){return e},e}function hn(){var e=Object(l.a)(["\n    position: fixed;\n    z-index: 30;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.25);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return hn=function(){return e},e}var jn=s.b.div(hn()),yn=s.b.div(En()),wn=Object(s.b)(S)(On()),xn=function(e){var n=e.visible,t=e.title,r=e.description,o=e.confirmText,c=void 0===o?"\uc0ad\uc81c":o,u=e.cancelText,i=void 0===u?"\ucde8\uc18c":u,l=e.onConfirm,s=e.onCancel;return n?a.a.createElement(jn,null,a.a.createElement(yn,null,a.a.createElement("h2",null,t),a.a.createElement("p",null,r),a.a.createElement("div",{className:"buttons"},a.a.createElement(wn,{onClick:s},i),a.a.createElement(wn,{cyan:!0,onClick:l},c)))):null},Sn=function(e){var n=e.visible,t=e.onCancel,r=e.onConfirm;return a.a.createElement(xn,{visible:n,onCancel:t,onConfirm:r,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"})};function kn(){var e=Object(l.a)(["\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    color: ",";\n    font-weight: bold;\n    border: none;\n    outline none;\n    font-size: 0.875rem;\n    cursor: pointer;\n    &:hover {\n        background: ",";\n        color: ",";\n    }\n    & + & {\n        margin-left: 0.25rem;\n    }\n"]);return kn=function(){return e},e}function Cn(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 2rem;\n    margin-top: -1.5rem;\n"]);return Cn=function(){return e},e}var In,Tn=s.b.div(Cn()),_n=s.b.button(kn(),p.gray[6],p.gray[1],p.cyan[7]),Rn=function(e){var n=e.onEdit,t=e.onRemove,o=Object(r.useState)(!1),c=Object(pe.a)(o,2),u=c[0],i=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Tn,null,a.a.createElement(_n,{onClick:n},"\uc218\uc815"),a.a.createElement(_n,{onClick:function(){i(!0)}},"\uc0ad\uc81c")),a.a.createElement(Sn,{visible:u,onCancel:function(){i(!1)},onConfirm:function(){i(!1),t()}}))},Pn=G.a.mark(Hn),Ln="write/WRITE_POST",An="write/UPDATE_POST",Nn=Object(M.a)("write/INITIAILIZE"),Dn=Object(M.a)("write/CHANGE_FILED",(function(e){return{key:e.key,value:e.value}})),Fn=Object(M.a)(Ln,(function(e){return{title:e.title,body:e.body,tags:e.tags}})),Un=Object(M.a)("write/SET_ORIGINAL_POST",(function(e){return e})),Gn=Object(M.a)(An,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),Mn=Z(Ln,(function(e){var n=e.title,t=e.body,r=e.tags;return $.post("/api/posts",{title:n,body:t,tags:r})})),zn=Z(An,(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags;return $.patch("/api/posts/".concat(n),{title:t,body:r,tags:a})}));function Hn(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(Ln,Mn);case 2:return e.next=4,Object(H.d)(An,zn);case 4:case"end":return e.stop()}}),Pn)}var Wn={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},Bn=Object(z.a)((In={},Object(D.a)(In,"write/INITIAILIZE",(function(e){return Wn})),Object(D.a)(In,"write/CHANGE_FILED",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(F.a)({},e,Object(D.a)({},r,a))})),Object(D.a)(In,Ln,(function(e){return Object(F.a)({},e,{post:null,postError:null})})),Object(D.a)(In,"write/WRITE_POST_SUCCESS",(function(e,n){var t=n.payload;return Object(F.a)({},e,{post:t})})),Object(D.a)(In,"write/WRITE_POST_FAILURE",(function(e,n){var t=n.payload;return Object(F.a)({},e,{postError:t})})),Object(D.a)(In,"write/SET_ORIGINAL_POST",(function(e,n){var t=n.payload;return{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id}})),Object(D.a)(In,"write/UPDATE_POST_SUCCESS",(function(e,n){var t=n.payload;return Object(F.a)({},e,{post:t})})),Object(D.a)(In,"write/UPDATE_POST_FAILURE",(function(e,n){var t=n.payload;return Object(F.a)({},e,{postError:t})})),In),Wn),qn=Object(u.e)((function(e){var n=e.match,t=e.history,o=Object(i.b)(),c=n.params.postId,u=Object(i.c)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),l=u.post,s=u.error,b=u.loading,m=u.user;Object(r.useEffect)((function(){return o(rn(c)),function(){o(an())}}),[o,c]);return a.a.createElement(vn,{post:l,loading:b,error:s,actionButtons:a.a.createElement(Rn,{onEdit:function(){o(Un(l)),t.push("/write")},onRemove:function(){return G.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.awrap((n=c,$.delete("/api/posts/".concat(n))));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),null,null,[[0,6]])}}),ownPost:m&&l&&m._id===l.user._id})})),Jn=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(me,null),a.a.createElement(qn,null))};function Zn(){var e=Object(l.a)(["\n    .logo-area{\n        display: block;\n        padding-bottom: 2rem;\n        text-align: center;\n        font-weight: bold;\n        letter-spacing: 2px;\n    }\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n    padding: 2rem;\n    width: 360px;\n    background: white;\n    border-radius: 2px;\n"]);return Zn=function(){return e},e}function Kn(){var e=Object(l.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background: ",";\n\n    // flex\ub85c \ub0b4\ubd80 \uc911\uc559 \uc815\ub82c\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Kn=function(){return e},e}var Qn,$n=s.b.div(Kn(),p.gray[2]),Vn=s.b.div(Zn()),Xn=function(e){var n=e.children;return a.a.createElement($n,null,a.a.createElement(Vn,null,a.a.createElement("div",{className:"logo-area"},a.a.createElement(g.b,{to:"/"},"REACTERS")),n))},Yn=t(56),et=G.a.mark(lt),nt="auth/REGISTER",tt="auth/LOGIN",rt=Object(M.a)("auth/CHANGE_FILED",(function(e){return{form:e.form,key:e.key,value:e.value}})),at=Object(M.a)("auth/INITIALIZE_FORM",(function(e){return e})),ot=Object(M.a)(nt,(function(e){return{username:e.username,password:e.password}})),ct=Object(M.a)(tt,(function(e){return{username:e.username,password:e.password}})),ut=Z(nt,(function(e){var n=e.username,t=e.password;return $.post("/api/auth/register",{username:n,password:t})})),it=Z(tt,(function(e){var n=e.username,t=e.password;return $.post("/api/auth/login",{username:n,password:t})}));function lt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(nt,ut);case 2:return e.next=4,Object(H.d)(tt,it);case 4:case"end":return e.stop()}}),et)}var st={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null},bt=Object(z.a)((Qn={},Object(D.a)(Qn,"auth/CHANGE_FILED",(function(e,n){var t=n.payload,r=t.form,a=t.key,o=t.value;return(Object(Yn.a)(e,(function(e){e[r][a]=o})))})),Object(D.a)(Qn,"auth/INITIALIZE_FORM",(function(e,n){var t,r=n.payload;return Object(F.a)({},e,(t={},Object(D.a)(t,r,st[r]),Object(D.a)(t,"authError",null),t))})),Object(D.a)(Qn,"auth/REGISTER_SUCCESS",(function(e,n){var t=n.payload;return Object(F.a)({},e,{auth:t,authError:null})})),Object(D.a)(Qn,"auth/REGISTER_FAILURE",(function(e,n){var t=n.payload;return Object(F.a)({},e,{authError:t})})),Object(D.a)(Qn,"auth/LOGIN_SUCCESS",(function(e,n){var t=n.payload;return Object(F.a)({},e,{auth:t,authError:null})})),Object(D.a)(Qn,"auth/LOGIN_FAILURE",(function(e,n){var t=n.payload;return Object(F.a)({},e,{authError:t})})),Qn),st);function mt(){var e=Object(l.a)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    font-weight: 800;\n    margin-top: 1rem;\n"]);return mt=function(){return e},e}function ft(){var e=Object(l.a)(["\n    margin-top: 2rem;\n    text-align: right;\n    a {\n        color: ",";\n        text-decoration: underline;\n        &:hover: {\n            color: ",";\n        }\n    }\n"]);return ft=function(){return e},e}function dt(){var e=Object(l.a)(["\n    font-size: 1rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    padding-bottom: 0.5rem;\n    outline: none;\n    width: 100%;\n    &:focus {\n        color: $oc-teal-7;\n        border-bottom: 1px solid ",";\n    }\n    & + & {\n        margin-top: 1rem;\n    }\n"]);return dt=function(){return e},e}function pt(){var e=Object(l.a)(["\n    h3 {\n        margin: 0;\n        color: ",";\n        margin-bottom: 1rem;\n    }\n"]);return pt=function(){return e},e}var gt=s.b.div(pt(),p.gray[8]),vt=s.b.input(dt(),p.gray[5],p.gray[7]),Ot=s.b.div(ft(),p.gray[6],p.gray[9]),Et={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},ht=s.b.div(mt()),jt=function(e){var n=e.type,t=e.form,r=e.onChange,o=e.onSubmit,c=e.error,u=Et[n];return a.a.createElement(gt,null,a.a.createElement("h3",null,u),a.a.createElement("form",{onSubmit:o},a.a.createElement(vt,{authComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),a.a.createElement(vt,{authComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&a.a.createElement(vt,{authComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&a.a.createElement(ht,null,c),a.a.createElement(S,{cyan:!0,fullWidth:!0,style:{marginTop:"1rem"}},u)),a.a.createElement(Ot,null,"register"===n?a.a.createElement(g.b,{to:"/login"},"\ub85c\uadf8\uc778"):a.a.createElement(g.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785")))},yt=Object(u.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(pe.a)(t,2),c=o[0],u=o[1],l=Object(i.b)(),s=Object(i.c)((function(e){var n=e.auth,t=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:t.user}})),b=s.form,m=s.auth,f=s.authError,d=s.user;return Object(r.useEffect)((function(){l(at("login"))}),[l]),Object(r.useEffect)((function(){if(f)return console.log("\uc624\ub958 \ubc1c\uc0dd"),console.log(f),void u("\ub85c\uadf8\uc778 \uc2e4\ud328");m&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),console.log(m),l(ae()))}),[m,f,l]),Object(r.useEffect)((function(){if(d){n.push("/");try{localStorage.setItem("user",JSON.stringify(d))}catch(e){console.log("localStorage is not working")}}}),[n,d]),a.a.createElement(jt,{type:"login",form:b,onChange:function(e){var n=e.target,t=n.value,r=n.name;l(rt({form:"login",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=b.username,t=b.password;l(ct({username:n,password:t}))},error:c})})),wt=function(){return a.a.createElement(Xn,null,a.a.createElement(yt,null))},xt=Object(u.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(pe.a)(t,2),c=o[0],u=o[1],l=Object(i.b)(),s=Object(i.c)((function(e){var n=e.auth,t=e.user;return{form:n.register,auth:n.auth,authError:n.authError,user:t.user}})),b=s.form,m=s.auth,f=s.authError,d=s.user;return Object(r.useEffect)((function(){l(at("register"))}),[l]),Object(r.useEffect)((function(){if(f)return 409===f.response.status?void u("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4."):void u("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");m&&l(ae())}),[m,f,l]),Object(r.useEffect)((function(){if(d){n.push("/");try{localStorage.setItem("user",JSON.stringify(d))}catch(e){console.log("localStorage is not working")}}}),[n,d]),a.a.createElement(jt,{type:"register",form:b,onChange:function(e){var n=e.target,t=n.value,r=n.name;l(rt({form:"register",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=b.username,t=b.password,r=b.passwordConfirm;[n,t,r].includes("")?u("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694."):t===r?l(ot({username:n,password:t})):u("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},error:c})})),St=function(){return a.a.createElement(Xn,null,a.a.createElement(xt,null))},kt=t(57),Ct=t.n(kt);t(98);function It(){var e=Object(l.a)(["\n    // \ucd5c\uc18c \ud06c\ud0a4 \uc9c0\uc815 \ubc0f padding \uc81c\uac70\n    .ql-editor {\n        padding: 0;\n        min-height: 320px;\n        font-size: 1.125rem;\n        lien-height: 1.5;\n    }\n    .ql-editor.ql-blank::before {\n        left: 0px;\n    }\n"]);return It=function(){return e},e}function Tt(){var e=Object(l.a)(["\n    font-size: 3rem;\n    outline: none;\n    padding-bottom: 0.5rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    margin-bottom: 2rem;\n    width: 100%;\n"]);return Tt=function(){return e},e}function _t(){var e=Object(l.a)(["\n    padding-top: 5rem;\n    padding-bottom: 5rem;\n"]);return _t=function(){return e},e}var Rt=Object(s.b)(d)(_t()),Pt=s.b.input(Tt(),p.gray[4]),Lt=s.b.div(It()),At=function(e){var n=e.title,t=e.body,o=e.onChangeField,c=Object(r.useRef)(null),u=Object(r.useRef)(null);Object(r.useEffect)((function(){u.current=new Ct.a(c.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694...",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=u.current;e.on("text-change",(function(n,t,r){"user"===r&&o({key:"body",value:e.root.innerHTML})}))}),[o]);var i=Object(r.useRef)(!1);Object(r.useEffect)((function(){i.current||(i.current=!0,u.current.root.innerHTML=t)}),[t]);return a.a.createElement(Rt,null,a.a.createElement(Pt,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){o({key:"title",value:e.target.value})},value:n}),a.a.createElement(Lt,null,a.a.createElement("div",{ref:c})))},Nt=function(){var e=Object(i.b)(),n=Object(i.c)((function(e){var n=e.write;return{title:n.title,body:n.body}})),t=n.title,o=n.body,c=Object(r.useCallback)((function(n){return e(Dn(n))}),[e]);return Object(r.useEffect)((function(){return function(){e(Nn())}}),[e]),a.a.createElement(At,{onChangeField:c,title:t,body:o})},Dt=t(59);function Ft(){var e=Object(l.a)(["\n    display: flex;\n    margin-top: 0.5rem;\n"]);return Ft=function(){return e},e}function Ut(){var e=Object(l.a)(["\n    margin-right: 0.5rem;\n    color: ",";\n    cursor: pointer;\n    &:hover {\n        opacity: 0.5;\n    }\n"]);return Ut=function(){return e},e}function Gt(){var e=Object(l.a)(["\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    width: 256px;\n    border: 1px solid ",";\n    // \uc2a4\ud0c0\uc77c \ucd08\uae30\ud654\n    input,\n    button {\n        outline: none;\n        border: none;\n        font-size: rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        flex: 1;\n    }\n    button {\n        cursor: pointer;\n        padding-right: 1rem;\n        padding-left: 1rem;\n        border: none;\n        background: ",";\n        color: white;\n        font-weight: bold;\n        &:hover {\n            background: ",";\n        }\n    }\n"]);return Gt=function(){return e},e}function Mt(){var e=Object(l.a)(["\n    width: 100%;\n    border-top: 1px solid ",";\n    padding-top: 2rem;\n\n    h4 {\n        color: ",";\n        margin-top: 0;\n        margin-bottom: 0.5rem;\n    }\n"]);return Mt=function(){return e},e}var zt=s.b.div(Mt(),p.gray[2],p.gray[8]),Ht=s.b.form(Gt(),p.gray[9],p.gray[8],p.gray[6]),Wt=s.b.div(Ut(),p.gray[6]),Bt=s.b.div(Ft()),qt=a.a.memo((function(e){var n=e.tag,t=e.onRemove;return a.a.createElement(Wt,{onClick:function(){return t(n)}},"#",n)})),Jt=a.a.memo((function(e){var n=e.tags,t=e.onRemove;return a.a.createElement(Bt,null,n.map((function(e){return a.a.createElement(qt,{key:e,tag:e,onRemove:t})})))})),Zt=function(e){var n=e.tags,t=e.onChangeTags,o=Object(r.useState)(""),c=Object(pe.a)(o,2),u=c[0],i=c[1],l=Object(r.useState)([]),s=Object(pe.a)(l,2),b=s[0],m=s[1],f=Object(r.useCallback)((function(e){if(e&&!b.includes(e)){var n=[].concat(Object(Dt.a)(b),[e]);m(n),t(n)}}),[b,t]),d=Object(r.useCallback)((function(e){var n=b.filter((function(n){return n!==e}));m(n),t(n)}),[b,t]),p=Object(r.useCallback)((function(e){i(e.target.value)}),[]),g=Object(r.useCallback)((function(e){e.preventDefault(),f(u.trim()),i("")}),[u,f]);return Object(r.useEffect)((function(){m(n)}),[n]),a.a.createElement(zt,null,a.a.createElement("h4",null,"\ud0dc\uadf8"),a.a.createElement(Ht,{onSubmit:g},a.a.createElement("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:u,onChange:p}),a.a.createElement("button",{type:"submit"},"\ucd94\uac00")),a.a.createElement(Jt,{tags:b,onRemove:d}))},Kt=function(){var e=Object(i.b)(),n=Object(i.c)((function(e){return e.write.tags}));return a.a.createElement(Zt,{onChangeTags:function(n){e(Dn({key:"tags",value:n}))},tags:n})};function Qt(){var e=Object(l.a)(["\n    height: 2.125rem;\n    & + & {\n        margin-left: 0.5rem;\n    }\n"]);return Qt=function(){return e},e}function $t(){var e=Object(l.a)(["\n    margin-top: 1rem;\n    margin-bottom: 3rem;\n    button + button {\n        margin-left: 0.5rem;\n    }\n"]);return $t=function(){return e},e}var Vt=s.b.div($t()),Xt=Object(s.b)(S)(Qt()),Yt=function(e){var n=e.onCancel,t=e.onPublish,r=e.isEdit;return a.a.createElement(Vt,null,a.a.createElement(Xt,{cyan:!0,onClick:t},"\ud3ec\uc2a4\ud2b8 ",r?"\uc218\uc815":"\ub4f1\ub85d"),a.a.createElement(Xt,{onClick:n},"\ucde8\uc18c"))},er=Object(u.e)((function(e){var n=e.history,t=Object(i.b)(),o=Object(i.c)((function(e){var n=e.write;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId}})),c=o.title,u=o.body,l=o.tags,s=o.post,b=o.postError,m=o.originalPostId;return Object(r.useEffect)((function(){if(s){var e=s._id,t=s.user;n.push("/@".concat(t.username,"/").concat(e))}b&&console.log(b)}),[n,s,b]),a.a.createElement(Yt,{onPublish:function(){t(m?Gn({id:m,title:c,body:u,tags:l}):Fn({title:c,body:u,tags:l}))},onCancel:function(){n.goback()},isEdit:m})})),nr=function(){return a.a.createElement(d,null,a.a.createElement(sn.a,null,a.a.createElement("title",null,"\uae00 \uc791\uc131\ud558\uae30 - REACTERS")),a.a.createElement(Nt,null),a.a.createElement(Kt,null),a.a.createElement(er,null))};var tr=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(sn.a,null,a.a.createElement("title",null,"REACTERS")),a.a.createElement(u.a,{component:$e,path:["/@:username","/"],exact:!0}),a.a.createElement(u.a,{component:wt,path:"/login"}),a.a.createElement(u.a,{component:St,path:"/register"}),a.a.createElement(u.a,{component:nr,path:"/write"}),a.a.createElement(u.a,{component:Jn,path:"/@:username/:postId"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rr=t(20),ar=t(58),or=G.a.mark(cr);function cr(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)([lt(),le(),Hn(),cn(),xe()]);case 2:case"end":return e.stop()}}),or)}var ur=Object(rr.combineReducers)({auth:bt,loading:q,user:be,write:Bn,post:ln,posts:Se}),ir=t(60),lr=Object(ir.a)(),sr=Object(rr.createStore)(ur,Object(ar.composeWithDevTools)(Object(rr.applyMiddleware)(lr)));lr.run(cr),function(){try{var e=localStorage.getItem("user");if(!e)return;sr.dispatch(re(e)),sr.dispatch(ae(e))}catch(n){console.log("localStorage is not working")}}(),c.a.render(a.a.createElement(i.a,{store:sr},a.a.createElement(g.a,null,a.a.createElement(sn.b,null,a.a.createElement(tr,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.b2914c60.chunk.js.map